# Описание лексем языка Pascal++

## 1. Примеры кода

```
begin
    var age : number = 25;
    var pi : number = 3.14;
    string name = "Vladimir";
    
    if (age >= 18) 
    then
        write("Hello, ", name);
    else
        write("Hi, ", name);
    end
end
```

## 2. Ключевые слова

| Слово    | Предназначение                            |
| -------- | ----------------------------------------- |
| begin    | Начало блока кода                         |
| end      | Конец блока кода                          |
| var      | Объявление переменной                     |
| number   | Число                                     |
| string   | Объявление переменной (строковый тип)     |
| boolean  | Логический тип                            |
| true     | Логическая истина                         |
| false    | Логическая ложь                           |
| if       | Начало условного оператора                |
| then     | Условие выполнено                         |
| else     | Иначе                                     |
| for      | Начало цикла                              |
| from     | Начальное значение                        |
| to       | Конечное значение                         |
| do       | Начало исполняемого блока                 |
| while    | Цикл while                                |
| write    | Вывод на экран                            |
| read     | Ввод данных                               |
| not      | Логическое отрицание                      |
| break    | Выход из цикла                            |
| continue | Продолжить цикл                           |
| return   | Вернуть значение функции                  |
| function | Объявление функции                        |
| arr      | Объявление массива                        |
| struct   | Объявление структуры                      |
| new      | создание экземпляра структуры             |


## 3. Идентификаторы. Синтаксические правила
- Должны начинаться с буквы латиницы `a-z`, `A-Z` или `_`
- Могут содержать буквы, цифры и символ подчеркивания
- Не могут совпадать с ключевыми словами
- Ключевые слова и идентификаторы чувствительны к регистру
Примеры: допустимые - `ident2`, `_ident`, `_ide5nt_`
недопустимые: - `8ident`, `идент1`, `for`
- Для полей структур используются те же правила, что и для обычных идентификаторов
- Имена структур следуют тем же правилам (рекомендуется начинать с заглавной буквы)

## 4. Литералы. Синтаксис и правила экранирования

### 4.1. Литералы чисел

Целые числа: последовательность цифр
Примеры: 0, 100, 999

Вещественные числа: содержат плавающую точку в середине.
Примеры: 3.14, 0.5, 2.0

### 4.2. Литералы строк

- в двойных кавычках `""`

- правила экранирования:
`\\` - обратный слэш
`\n` - новая строка
`\t` - табуляция (отступ)
`\r` - возврат каретки
`\"` - двойная кавычка

### 4.3. Литерал массива

Массив создаётся литералом в квадратных скобках. Элементы задаются через запятую; каждый элемент — результат вычисления выражения (не обязательно литерал).

Примеры: `[1, 2, 3]`, `[a, b + 1, f(x)]`, `[]`

### 4.4. Литерал структуры

Структура создаётся литералом в фигурных скобках: перечисляются пары «имя поля : значение». Значение — результат выражения. Все поля типа должны быть инициализированы.

Пример: `{ x : 10, y : 20 }`

## 5. Операторы

Арифметические: 
- `+` (сложение)
- `-` (вычитание)
- `*` (умножение)
- `/` (деление)
- `%` (остаток)

Логические:
- `||` (или)
- `@`  (и)
- `!` (отрицание)

Сравнения: 
- `==` (равно)
- `!=` (не равно)
- `<` (меньше), `>` (больше) 
- `<=` (меньше или равно), `>=` (больше или равно)

Присваивания:
- `=` (левый операнд = правый операнд)

Доступа к элементам:
- `[]` — доступ к элементу массива на чтение и запись: `myArray[index]` (индекс — выражение, дающее число)
- `.` — доступ к полю структуры на чтение и запись: `myObject.field`
- `->` — доступ к полю структуры через указатель на чтение и запись: `myObject->field`

## 6. Прочие лексемы

- `;`  (конец инструкции)
- `,`  (разделитель операндов)
- `:`  (разделитель типа)
- `()` (выражения и вызовы)
- `[]` (индексация массивов)
- `{}` (литерал структуры)

### 6.1. Массивы (кратко)

- Массив можно создать для любого базового типа данных (`number`, `string`, `boolean`).
- Литерал массива: список элементов в `[]`, элементы — результаты выражений.
- Доступ к элементу на чтение и запись: `myArray[index]`.

### 6.2. Структуры (кратко)

- Можно описать тип структуры с типизированными полями.
- Литерал структуры: инициализация всех полей в `{}` в виде `поле : значение`.
- Доступ к полю на чтение и запись: `myObject.field` или `myObject->field`.

## 7. Комментарии

- однострочные: `##`
- многострочные `/#` и `#/`

## EBNF-грамматика для всех лексем языка
```
(* ==================== *)
(* Идентификаторы       *)
(* ==================== *)

        identifier = ( letter | "_" ), { letter | digit | "_" } ;

        letter = "a" | "b" | "c" | "d" | "e" | "f" | "g" | "h" | "i" | "j" | "k" | "l" | "m" | "n" | "o" | "p" | "q" | "r" | "s" | "t" | "u" | "v" | "w" | "x" | "y" | "z"
             | "A" | "B" | "C" | "D" | "E" | "F" | "G" | "H" | "I" | "J" | "K" | "L" | "M" | "N" | "O" | "P" | "Q" | "R" | "S" | "T" | "U" | "V" | "W" | "X" | "Y" | "Z" ;

        digit = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" ;

(* ==================== *)
(* Ключевые слова       *)
(* ==================== *)

        keyword = "begin" | "end" | "var" | "string" 
                | "boolean" | "true" | "false" | "if" | "then" 
                | "else" | "for" | "from" | "to" | "do" | "while" 
                | "write" | "read" | "not" | "break" | "continue" 
                | "return" | "function" | "number" | "arr" | "struct" | "new" ;

(* ==================== *)
(* Литералы             *)
(* ==================== *)
			
	    literal = number | string_literal | bool_literal | array_literal | struct_literal ;

	    number = integer, ".", digit, { digit } 
			  | ".", digit, { digit } ;

        integer = digit, { digit } ;
        
	    string_literal = '"', { character }, '"' ;

		bool_literal = "true" | "false" ;

        (* элементы — выражения, см. expression в 02_syntax.md *)
        array_literal = "[", [ expression, { ",", expression } ], "]" ;

        struct_literal = "{", [ identifier, ":", expression, { ",", identifier, ":", expression } ], "}" ;

(* ==================== *)
(* Экранирование        *)
(* ==================== *)

        character = ? все символы кроме " и \ ? | escape_sequence ;
		escape_sequence = "\\" | "\n" | "\t" | "\r" | "\"";


(* ==================== *)
(* Операторы            *)
(* ==================== *)

	    logical_or_operator = "||" ;

	    logical_and_operator = "@" ;

	    comparison_operator = "==" | "!=" | "<" | ">" | "<=" | ">=" ;

	    additive_operator = "+" | "-" ;

	    multiplicative_operator = "*" | "/" | "%" ;

        exponential_operator = "^" ;

	    unary_operator = "+" | "-" | "!" ;

        assignment_operator = "=" ;

        member_access_operator = "." | "->" ;

(* ==================== *)
(* Прочие лексемы       *)
(* ==================== *)

       separators = ";" | ":" | "," | "(" | ")" | "[" | "]" | "{" | "}" ;
       comment_lexemes = "##" | "#/" | "/#" ;
```
